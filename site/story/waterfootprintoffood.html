<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Water Footprint</title>
	<link rel="stylesheet" type="text/css" media="screen" href="../style/story.css" />
	<script src="storyJs.js"></script>

	<script src="http://d3js.org/d3.v2.js"></script>


<script type="text/javascript">
 function init() {
	var rollovers = [
		{ left: 6.8,  top: 49.2, img: "images/apple.png" },
		{ left: 22.1, top: 49.2, img: "images/coffee.png" },
		{ left: 38.0, top: 49.2, img: "images/banana.png" },
		{ left: 53.5, top: 49.2, img: "images/wine.png" },
		{ left: 68.5, top: 49.2, img: "images/cheese.png" },
		{ left: 84.3, top: 49.2, img: "images/milk.png" },
		{ left: 6.8,  top: 75.3, img: "images/beer.png" },
		{ left: 22.1, top: 75.3, img: "images/bread.png" },
		{ left: 38.0, top: 75.3, img: "images/pizza.png" },
		{ left: 53.5, top: 75.3, img: "images/eggs.png" },
		{ left: 68.5, top: 75.3, img: "images/chicken.png" },
		{ left: 84.3, top: 75.3, img: "images/pork.png" },
    ];
	
	
	function showPopup(d,i) { 
		    console.log(d.img) 
			var img = d3.select("#footprint-container").selectAll("#popup")
			.data([d], function(d,i) { return d.img });
			
			img.exit().style("opacity","0").remove()
			img.enter()
			.append("img")
			.attr("id","popup")
			.style("position","absolute")
			.style("top","8.4%")
			.style("left","81.2%")
			.style("width","12.1%")
			.style("opacity","0")
			
			
			img.attr("src",d.img).style("opacity","1")
		}
		
	function hidePopup(d,i) { 
		    console.log(d.img) 
			var img = d3.select("#footprint-container").selectAll("#popup")
			.data([d], function(d,i) { return d.img });
			
		
			
			img.transition().duration(500).style("opacity","0")
		}
		
		
	d3.select("#footprint-container").selectAll(".rollover")
		.data(rollovers).enter()
		.append("div")
		.attr("class","rollover")
		.style("position","absolute")
		.style("top",function(d,i) { return d.top+"%" })
		.style("left",function(d,i) { return d.left+"%" })
		.style("width", "10.4%")
		.style("height", "20.9%")
		.style("cursor","pointer")
	.on("mouseover", showPopup)
	.on("mouseout", hidePopup);
	
		
 }



</script>

</head>

<body onload="init()">

<div id="footprint-container" style="position:relative; max-width:1200px; max-height:675px;">
	<img src="images/footprint.jpg"/> 
</div>

</body>
</html>
